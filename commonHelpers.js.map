{"version":3,"file":"commonHelpers.js","sources":["../src/js/modal.js","../src/js/api.js"],"sourcesContent":["const buttonOpenModalEl = document.querySelector('.js-open-menu');\nconst backdropEl = document.querySelector('.header-backdrop');\n\nbuttonOpenModalEl.addEventListener('click', openModal);\nbackdropEl.addEventListener('click', openModal);\n\nfunction openModal() {\n  backdropEl.classList.toggle('is-hidden');\n}\n","import axios from 'axios';\n\n// export let choiceFilter = 'filter=Muscles';\n// import { handleClick } from './home';\n\n//import { choiceFilter } from './home';\n\n// let currentPage = 1;\n// let choiceFilter = 'filter=Muscles';\n\n///////////////////////home.js\nlet choiceFilter = 'filter=Muscles';\nlet currentPage = 1;\n\nconst btnFiltersEl = document.querySelector('.exercises-list-btn');\nconst btnMusclesEl = document.querySelector(\n  'button[data-action=\"filter=Muscles\"]',\n);\nconst btnBodyEl = document.querySelector(\n  'button[data-action=\"filter=Body parts\"]',\n);\nconst btnEquipmentEl = document.querySelector(\n  'button[data-action=\"filter=Equipment\"]',\n);\n\nbtnFiltersEl.addEventListener('click', handleClick);\n\nfunction handleClick(event) {\n  btnMusclesEl.classList.remove('active');\n  btnBodyEl.classList.remove('active');\n  btnEquipmentEl.classList.remove('active');\n\n  event.target.classList.add('active');\n\n  choiceFilter = event.target.dataset.action;\n\n  currentPage = 1;\n  // return choiceFilter, currentPage;\n  getFilters(choiceFilter, currentPage);\n}\n\n//////////////////////\n\nconst amountPageEl = document.querySelector('.js-exercises-countpage');\n\n// function onChangeActivePage() {}\n\n// console.log(choiceFilter);\nconst quoteTextEl = document.querySelector('.quote-text');\nconst quoteAuthorEl = document.querySelector('.quote-author');\n\nasync function getQuote() {\n  axios.defaults.baseURL = 'https://energyflow.b.goit.study/api/quote';\n\n  const date = new Date();\n  const currentDate =\n    date.getFullYear() + String(date.getMonth()) + date.getDate();\n\n  let objLocalStorage = {};\n  if (localStorage.getItem('quotation')) {\n    objLocalStorage = JSON.parse(localStorage.getItem('quotation'));\n  }\n\n  if (\n    !localStorage.getItem('quotation') ||\n    currentDate !== objLocalStorage.date\n  ) {\n    const response = await axios.get();\n    try {\n      quoteTextEl.textContent = response.data.quote;\n      quoteAuthorEl.textContent = response.data.author;\n      const settings = {\n        date: currentDate,\n        quote: response.data.quote,\n        author: response.data.author,\n      };\n      localStorage.setItem('quotation', JSON.stringify(settings));\n    } catch (error) {\n      alert(error.message);\n    }\n  } else {\n    quoteTextEl.textContent = objLocalStorage.quote;\n    quoteAuthorEl.textContent = objLocalStorage.author;\n  }\n}\n\ngetQuote();\n\nconst listEl = document.querySelector('.js-exercises-list');\n\n////////////////////////////\n// getFilters(choiceFilter, currentPage);\ngetFilters();\n\nasync function getFilters(choiceFilter = 'filter=Muscles', currentPage = 1) {\n  axios.defaults.baseURL = 'https://energyflow.b.goit.study/api/';\n  const resource = 'filters';\n  const params = {\n    page: currentPage,\n    limit: 8,\n  };\n\n  let markup = '';\n  const response = await axios.get(`${resource}?${choiceFilter}`, { params });\n\n  try {\n    // console.log(response.data);\n    const amountPage = response.data.totalPages;\n\n    ////////////// Кількість сторінок\n    if (amountPage > 1) {\n      let amountPageMarkup = '';\n\n      for (let i = 1; i <= amountPage; i += 1) {\n        if (i === currentPage) {\n          amountPageMarkup += `<button data-action=${i} class=\"js-exercises-countpage-btn active \" type=\"button\">${i}</button>`;\n        } else {\n          amountPageMarkup += `\n          <button data-action=${i} class=\"js-exercises-countpage-btn \" type=\"button\">${i}</button>\n        `;\n        }\n      }\n\n      amountPageEl.innerHTML = amountPageMarkup;\n\n      amountPageEl.addEventListener('click', onClick);\n    }\n\n    createMarkup(response.data.results);\n  } catch (error) {\n    alert(error.message);\n  }\n}\n\n// getFilters();\n\nfunction onClick(event) {\n  for (const el of amountPageEl.children) {\n    el.classList.remove('active');\n  }\n\n  event.target.classList.add('active');\n  currentPage = Number(event.target.dataset.action);\n  getFilters(choiceFilter, currentPage);\n}\n\nfunction createMarkup(array) {\n  //   console.log(array);\n  const markup = array.reduce(\n    (html, { name, filter, imgUrl }) =>\n      html +\n      `\n      <li class=\"exercises-item\">\n        <a class=\"exercises-link\" href=\"\">\n            <img\n            class=\"exercises-image\"\n            src=\"${imgUrl}\"\n            alt=\"${name}\"\n            />\n            <div class=\"div-position\">\n                <p class=\"exercises-filter\">${filter}</p>\n                <p class=\"exercises-name\">${name}</p>\n            </div>\n         </a>\n       </li>`,\n    '',\n  );\n  //   listEl.insertAdjacentHTML('beforeend', markup);\n  listEl.innerHTML = markup;\n}\n\n// const fetchUsers = async () => {\n//   const response = await axios.get(\n//     '<https://jsonplaceholder.typicode.com/users>',\n//   );\n//   return response.data;\n// };\n\n// const doStuff = async () => {\n//   try {\n//     const users = await fetchUsers();\n//     console.log(users);\n//   } catch (error) {\n//     console.log(error);\n//   }\n// };\n\n// doStuff();\n"],"names":["buttonOpenModalEl","backdropEl","openModal","choiceFilter","currentPage","btnFiltersEl","btnMusclesEl","btnBodyEl","btnEquipmentEl","handleClick","event","getFilters","amountPageEl","quoteTextEl","quoteAuthorEl","getQuote","axios","date","currentDate","objLocalStorage","response","settings","error","listEl","resource","params","amountPage","amountPageMarkup","i","onClick","createMarkup","el","array","markup","html","name","filter","imgUrl"],"mappings":"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"}